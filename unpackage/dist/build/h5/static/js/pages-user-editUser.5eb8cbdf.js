(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-user-editUser"],{"12a3":function(t,e,i){"use strict";function n(t){if(0===t.indexOf("_www")||0===t.indexOf("_doc")||0===t.indexOf("_documents")||0===t.indexOf("_downloads"))return t;if(0===t.indexOf("file://"))return t;if(0===t.indexOf("/storage/emulated/0/"))return t;if(0===t.indexOf("/")){var e=plus.io.convertAbsoluteFileSystem(t);if(e!==t)return e;t=t.substr(1)}return"_www/"+t}function a(t){var e=t.split(",");return e[e.length-1]}i("c975"),i("ace4"),i("d3b7"),i("ac1f"),i("3ca3"),i("466d"),i("1276"),i("5cc6"),i("9a8c"),i("a975"),i("735e"),i("c1ac"),i("d139"),i("3a7b"),i("d5d6"),i("82f8"),i("e91f"),i("60bd"),i("5f96"),i("3280"),i("3fcc"),i("ca91"),i("25a1"),i("cd26"),i("2954"),i("649e"),i("219c"),i("b39a"),i("72f7"),i("ddb0"),i("2b3d"),Object.defineProperty(e,"__esModule",{value:!0}),e.pathToBase64=u,e.base64ToPath=c;var o=0;function s(){return Date.now()+String(o++)}function r(t,e){for(var i=t.split("."),n=e.split("."),a=!1,o=0;o<n.length;o++){var s=i[o]-n[o];if(0!==s){a=s>0;break}}return a}function u(t){return new Promise((function(e,i){if("object"===typeof window&&"document"in window){if("function"===typeof FileReader){var a=new XMLHttpRequest;return a.open("GET",t,!0),a.responseType="blob",a.onload=function(){if(200===this.status){var t=new FileReader;t.onload=function(t){e(t.target.result)},t.onerror=i,t.readAsDataURL(this.response)}},a.onerror=i,void a.send()}var o=document.createElement("canvas"),s=o.getContext("2d"),r=new Image;return r.onload=function(){o.width=r.width,o.height=r.height,s.drawImage(r,0,0),e(o.toDataURL()),o.height=o.width=0},r.onerror=i,void(r.src=t)}"object"!==typeof plus?"object"===typeof wx&&wx.canIUse("getFileSystemManager")?wx.getFileSystemManager().readFile({filePath:t,encoding:"base64",success:function(t){e("data:image/png;base64,"+t.data)},fail:function(t){i(t)}}):i(new Error("not support")):plus.io.resolveLocalFileSystemURL(n(t),(function(t){t.file((function(t){var n=new plus.io.FileReader;n.onload=function(t){e(t.target.result)},n.onerror=function(t){i(t)},n.readAsDataURL(t)}),(function(t){i(t)}))}),(function(t){i(t)}))}))}function c(t){return new Promise((function(e,i){if("object"===typeof window&&"document"in window){t=t.split(",");var n=t[0].match(/:(.*?);/)[1],o=atob(t[1]),u=o.length,c=new Uint8Array(u);while(u--)c[u]=o.charCodeAt(u);return e((window.URL||window.webkitURL).createObjectURL(new Blob([c],{type:n})))}var l=t.split(",")[0].match(/data\:\S+\/(\S+);/);l?l=l[1]:i(new Error("base64 error"));var d=s()+"."+l;if("object"!==typeof plus)if("object"===typeof wx&&wx.canIUse("getFileSystemManager")){g=wx.env.USER_DATA_PATH+"/"+d;wx.getFileSystemManager().writeFile({filePath:g,data:a(t),encoding:"base64",success:function(){e(g)},fail:function(t){i(t)}})}else i(new Error("not support"));else{var f="_doc",w="uniapp_temp",g=f+"/"+w+"/"+d;if(!r("Android"===plus.os.name?"1.9.9.80627":"1.9.9.80472",plus.runtime.innerVersion))return void plus.io.resolveLocalFileSystemURL(f,(function(n){n.getDirectory(w,{create:!0,exclusive:!1},(function(n){n.getFile(d,{create:!0,exclusive:!1},(function(n){n.createWriter((function(n){n.onwrite=function(){e(g)},n.onerror=i,n.seek(0),n.writeAsBinary(a(t))}),i)}),i)}),i)}),i);var h=new plus.nativeObj.Bitmap(d);h.loadBase64Data(t,(function(){h.save(g,{},(function(){h.clear(),e(g)}),(function(t){h.clear(),i(t)}))}),(function(t){h.clear(),i(t)}))}}))}},"31b4":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,".container[data-v-2e114512]{padding-bottom:%?100?%}.userMsg[data-v-2e114512]{position:relative}.banner[data-v-2e114512]{width:%?750?%;height:%?366?%;display:block}.back[data-v-2e114512]{width:%?16?%;height:%?28?%;position:absolute;top:%?35?%;left:%?30?%}.editPhoto[data-v-2e114512]{position:absolute;top:%?65?%;left:0;right:0;margin:0 auto;text-align:center}.editPhotoModular[data-v-2e114512]{position:relative}.photo[data-v-2e114512]{width:%?144?%;height:%?144?%;border-radius:50%;box-shadow:%?0?% %?4?% %?40?% %?10?% rgba(0,0,0,.1);display:block;\n\t/* margin: 0 auto; */margin:%?20?% auto 0\n\t/* position: absolute;\n\ttop: 65rpx;\n\tleft: 0;\n\tright: 0;\n\tmargin: 0 auto; */}.camera[data-v-2e114512]{width:%?52?%;height:%?52?%;position:absolute;\n\t/* top: 92rpx; */bottom:0;left:%?0?%;right:%?-98?%;margin:0 auto}.name[data-v-2e114512]{font-size:%?36?%;font-family:Arial-Bold,Arial;font-weight:700;color:#0b0b0b;position:absolute;top:%?282?%;left:0;right:0;margin:0 auto;text-align:center}.content[data-v-2e114512]{background:#fff;box-shadow:%?0?% %?-40?% %?40?% %?4?% rgba(2,1,3,.05);border-radius:%?0?% %?0?% %?0?% %?0?%;padding:%?32?%;box-sizing:border-box}.arrow[data-v-2e114512]{width:%?13?%;height:%?24?%;margin:%?-2?% 0 0 %?8?%}\n\n/* 菜单列表 */.menuList[data-v-2e114512]{\n\t/* background: #FFFFFF;\n\tbox-shadow: 0rpx -40rpx 40rpx 4rpx rgba(2,1,3,0.05);\n\tborder-radius: 0rpx 0rpx 0rpx 0rpx;\n\tpadding: 30rpx;\n\tbox-sizing: border-box; */}[data-v-2e114512] .uni-list-item{margin-bottom:%?67?%}[data-v-2e114512] .uni-list-item__container{align-items:center;padding:0 %?30?%}.slot-box[data-v-2e114512]{display:flex;flex-direction:row;align-items:center}.slot-image[data-v-2e114512]{width:%?38?%;height:%?38?%;margin-right:%?16?%}.slot-text[data-v-2e114512]{flex:1;font-size:%?26?%;font-family:Arial-Regular,Arial;font-weight:400;color:#0b0b0b;line-height:%?30?%}.solt-right[data-v-2e114512]{font-size:%?26?%;font-family:Arial-Regular,Arial;font-weight:400;color:#333;line-height:%?30?%;margin-right:%?16?%}.menuList .arrow[data-v-2e114512]{margin:0}\n\n/* 底部按钮 */.bottom[data-v-2e114512]{width:%?670?%;height:%?80?%;line-height:%?80?%;background:#ff7436;border-radius:%?8?%;font-size:%?24?%;font-family:Arial;font-weight:400;color:#fff;text-align:center;position:fixed;bottom:%?26?%;left:0;right:0;margin:0 auto}\n\n/* 隐藏原生样式 */.uniui-arrowright[data-v-2e114512]{display:none}[data-v-2e114512] .uniui-arrowright{display:none}.uni-list-item--hover[data-v-2e114512]{background:none}[data-v-2e114512] .uni-list-item--hover{background:none}",""]),t.exports=e},5128:function(t,e,i){var n=i("31b4");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("d7e61610",n,!0,{sourceMap:!1,shadowMode:!1})},"682d":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAcCAMAAABf788oAAAAAXNSR0IArs4c6QAAAQhQTFRFAAAAAAAAAAAAAAAAAAAAFBQUEhISEREREBAQDw8PDg4ODQ0NDQ0NDAwMDAwMCwsLCwsLCgoKCAgICAgICAgIBwcHDQ0NDQ0NDQ0NDAwMDAwMDAwMCwsLCwsLCwsLCgoKCgoKCgoKCgoKCQkJCQkJCQkJDQ0NDAwMDAwMCwsLCgoKDAwMCwsLCwsLCwsLCwsLCwsLCwsLCwsLCgoKCgoKCgoKDAwMDAwMCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCgoKCwsLCwsLCwsLluXxHgAAAFd0Uk5TAAgKCwwNDg8QERITFBUWFxgaHyEiJCYnKCkqKy0vMDEyMzU2OTo8PkJEYmq2uLq8vsDCw8TFxsfJy8zNzs/R09XW2ODh4uPk5ebn6Onq6+3v8PHy8/T1q7YFawAAAL1JREFUGNNN0dVWglEQgNHfxO7uBLtQFLsVC1Bkv/+beHecudvfmptZk2VhxsqN7eiJZxrBU68o/nvmDbeDyXMfuO5PXvjCZV/yUhXnPckrNZx1Ja/VcZJLzn+j2JFcaOCwLXmjif3W5M0mdv+dVbDTEi54xF5YyAq/OIgl/4Oj9lDW6zjuDGW1htNcKMtVlLtDWfzCRW8o85+46g9l9h03A6FMV3A3FMrkC+6HQxl/Qik+avSB3xiykdL31h+DeyyncUpIeQAAAABJRU5ErkJggg=="},9111:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i("12a3"),a={data:function(){return{userList:{},nickname:"",lists:[{id:1,title:this.$t("editUser").Name,url:"./editName",value:""},{id:2,title:this.$t("editUser").Login_mailbox,url:"./editEmail",value:""},{id:3,title:this.$t("editUser").Change_Password,url:"./editPassword",val:""},{id:4,title:this.$t("editUser").Address_Management,url:"./addressList",val:""}]}},onShow:function(){this.userList=this.$store.state.duomiList,this.nickname=this.$store.state.nickname,this.lists[0].value=this.nickname,this.lists[1].value=this.$store.state.duomiList.mail},methods:{back:function(){window.history.go(-1)},goClick:function(t){uni.navigateTo({url:this.lists[t].url})},goBack:function(){uni.setStorageSync("index_is_refresh","1"),uni.setStorageSync("token",""),uni.navigateTo({url:"/pages/register/login"})},photo:function(){var t=this;uni.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["camera"],success:function(e){e.tempFilePaths;t.userList.avatar=e.tempFilePaths[0],(0,n.pathToBase64)(e.tempFilePaths[0]).then((function(e){t.userList.avatar=e,t.setPhoto()})).catch((function(t){console.error(t)}))}})},setPhoto:function(){var t=this;uni.showLoading({title:this.$t("common").loading+"...",mask:!0}),this.$myRequest({method:"POST",url:"https://user.mini.zhishukongjian.com/user/editerbatch",data:{avatar:this.userList.avatar}}).then((function(e){uni.hideLoading(),200==e.data.code?(t.$store.commit("editAvatar",t.userList.avatar),uni.setStorageSync("duomiList",t.$store.state.duomiList)):uni.showModal({title:t.$t("common").Tip,content:e.data.msg,confirmText:t.$t("common").confirm,showCancel:!1})})).catch((function(e){uni.hideLoading(),uni.showModal({title:t.$t("common").Tip,content:t.$t("common").Network,confirmText:t.$t("common").confirm,showCancel:!1})}))}}};e.default=a},a676:function(t,e,i){"use strict";i.r(e);var n=i("cf0f"),a=i("ae2f");for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("dac3");var s,r=i("f0c5"),u=Object(r["a"])(a["default"],n["b"],n["c"],!1,null,"2e114512",null,!1,n["a"],s);e["default"]=u.exports},ae2f:function(t,e,i){"use strict";i.r(e);var n=i("9111"),a=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},cf0f:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return n}));var n={uniList:i("69f7").default,uniListItem:i("b377").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"container"},[n("v-uni-view",{staticClass:"userMsg"},[n("v-uni-image",{staticClass:"banner",attrs:{src:i("52f2")}}),n("v-uni-image",{staticClass:"back",attrs:{src:i("682d")},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.back.apply(void 0,arguments)}}}),n("v-uni-view",{staticClass:"editPhoto"},[n("v-uni-view",{staticClass:"editPhotoModular"},[n("v-uni-image",{staticClass:"photo",attrs:{src:i("8aab")}})],1)],1),n("v-uni-view",{staticClass:"name"},[t._v(t._s(t.nickname))])],1),n("v-uni-view",{staticClass:"content"}),n("v-uni-view",{staticClass:"menuList"},[n("uni-list",{attrs:{border:!1}},t._l(t.lists,(function(e,a){return n("uni-list-item",{attrs:{border:!1,link:!0},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goClick(a)}},scopedSlots:t._u([{key:"header",fn:function(){return[n("v-uni-view",{staticClass:"slot-box"},[n("v-uni-text",{staticClass:"slot-box slot-text"},[t._v(t._s(e.title))])],1)]},proxy:!0},{key:"body",fn:function(){},proxy:!0},{key:"footer",fn:function(){return[n("v-uni-text",{staticClass:"solt-right"},[t._v(t._s(e.value))]),n("v-uni-image",{directives:[{name:"show",rawName:"v-show",value:e.url,expression:"item.url"}],staticClass:"arrow",attrs:{src:i("96e3")}})]},proxy:!0}],null,!0)})})),1)],1),n("v-uni-view",{staticClass:"bottom",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goBack.apply(void 0,arguments)}}},[t._v(t._s(t.$t("editUser.Log_out")))])],1)},o=[]},dac3:function(t,e,i){"use strict";var n=i("5128"),a=i.n(n);a.a}}]);